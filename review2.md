# Laravel Lesson レビュー②

## Todo編集機能

### @method('PUT')を記述した行に何が出力されているか
<input type="hidden" name="_method" value="PUT">

### findメソッドの引数に指定しているIDは何のIDか
削除対象や更新の取得対象レコードの主キーのこと
### findメソッドで実行しているSQLは何か

SELECT * FROM todos WHERE id = ？ LIMIT 1;

例えば
find(5)の場合は
SELECT * FROM todos WHERE id = 5 LIMIT 1;
となり
todos テーブルから id が 5 のレコードが1件返される。

### findメソッドで取得できる値は何か
該当するレコードの値
　 findメソッドで取得したレコードのカラムに対応するプロパティにアクセスできる。
  例えば、contentカラムの値は $todo->contentで取得できる。
Todoモデルのインスタンスを返す
 Eloquent のモデルインスタンスであるためそのレコードに関連するEloquentのメソッドsave()、delete()、update()などが使用できる。
　

### saveメソッドは何を基準にINSERTとUPDATEを切り替えているのか
idの有無で切り替えを行なっている。

INSERT:idがnullまたは設定されていない場合新しいレコードが挿入される。

```php
    $inputs = $request->all();

    $this->todo->fill($inputs);
    $this->todo->save();
```

DELETE:idが設定されている場合既存のレコードが更新される。
```php
    $inputs = $request->all();
    
    $todo = $this->todo->find($id);
    $todo->fill($inputs)->save();
```


## Todo論理削除

### traitとclassの違いとは

・クラスの継承とは異なり1つのクラスに複数のトレイトを追加することができる
・トレイト自体はインスタンス化できない
ことが挙げられる。
classはオブジェクト指向の基本的な構造でデータと動作を持つオブジェクトを作成するために使用する。
traitは複数のクラスで共通の動作を再利用するための手段であり、メソッドをクラスに組み込むための機能。
またクラスが継承するのは親クラスですがtraitはクラスに直接埋め込む

### traitを使用するメリットとは
1.コードの再利用性
　複数のクラスで共通する機能をtraitとして切り出すことでコードの重複を減らし、また保守性の向上をさせることができる。
2.コードのを簡素化し、可読性の向上
3.多重継承の回避と解決
　classでは単一継承しかできないがtraitを使うことで、多重継承を実現できる。つまり、１つのクラスに複数のtraitを組み込むことで複数の異なる機能を１つのクラスに統合することができる。
```php
trait CanAttack {
    public function attack() {
        echo "damage!";
    }
}

trait CanRunaway {
    public function runaway() {
        echo "dash!";
    }
}

class Pokemon {
    use CanAttack, CanRunaway;  // 複数のtraitを使用
}
$duck = new Pokemon();
$duck->attack();  // "damage!"
$duck->runaway(); // "dash!"
```
このようにクラスは１つでも２つの異なる機能を持たせることができる
## その他

### TodoControllerクラスのコンストラクタはどのタイミングで実行されるか
コントローラーがインスタンス化されるタイミングで実行される。
具体的にはルートがリクエストされた際にコントローラーのインスタンスが生成されてその際にコンストラクタが呼び出される。
コントローラーのメソッドはリクエストがルートにマッチした際に呼び出される。その時まずコントローラーのインスタンスが生成され、そのインスタンスが生成される過程でコンストラクタが実行される

### RequestクラスからFormRequestクラスに変更した理由
フォームのバリデーションやリクエスト処理を効率化し、コードの可読性やメンテナンス性の向上をさせるため。
具体的にはFormRequestはリクエストのバリデーションを専用のクラスに分けることができるため
コントローラーのコードがスッキリして可読性の向上と他の場所でも再利用することができる。
### $errorsのhasメソッドの引数・返り値は何か
引数：入力欄のname属性
返り値：フィールドにエラーがあればtrueなければfalse。
### $errorsのfirstメソッドの引数・返り値は何か
引数：入力欄のname属性
返り値：最初のエラーメッセージ（文字列）。エラーがない場合は空文字。
### フレームワークとは何か
簡単にいうとWebアプリケーションなどのソフトウェアを効率的に開発するために必要な機能が揃った枠組みのようなもの

フレームワークの特徴として
1.再利用可能なコード
フレームワークはよく使われる処理や機能をライブラリとして提供し、開発者はそのコードを再利用できる。これにより効率的に開発できる。
2.自動化
データベース操作、セッション管理、ルーティングなどの機能を自動化してくれる
などの特徴がある
### MVCはどういったアーキテクチャか
プログラムを役割ごとにModel（モデル）・View（ビュー）・Controller（コントローラー）の3つに分けて管理するソフトウェア設計モデルのこと。
役割ごとにコードを分けることで分担作業を行いやすく、システムの保守性や生産性につなげることができる。

Laravelでは
・Model：EloquentORMを使用してデータベースとのやり取りを行う
・View：Bladeテンプレートエンジンを使ってHTMLを動的に生成
・controller:コントローラーはapp/Http/Controllersディレクトリ内に配置されリクエストに応じたアクションを定義
### ORMとは何か、またLaravelが使用しているORMは何か
ORMとは
object-relational Mappingのことで
主な特徴として
・オブジェクト指向とリレーショナルデータベースを繋げる役割をしている。
・SQL直接書くことなくプログラム内でデータベース操作をすることができるためを書く手間を省くことができる。
・データの取得、更新、削除などを簡単に行うことができる。

Laravelの使用してるORMは
「Eloquent ORM」
Eloquent ORMの特徴:

	1.モデルとテーブルの自動対応
  Eloquentではモデルクラスがデータベースのテーブルと自動的に関連付けられる。例えばTodoモデルクラスは、デフォルトでtodosというテーブルと関連付けられます。
	2.CRUD操作が簡単
  Eloquentではデータの取得（Create）、読み取り（Read）、更新（Update）、削除（Delete）を直感的なメソッドで行える。
  これによってSQLを書く手間が大幅に削減される。
	3.リレーションシップの管理
  Eloquentはモデル間のリレーション（1対多、多対多、1対1など）を簡単に定義できるためリレーショナルデータベースの関係性を扱うのが簡単になる。
	4.クエリビルダーと併用可能
  Eloquentはクエリビルダーと一緒に使うこともできより複雑なSQLクエリを簡潔に構築することができる。
### composer.json, composer.lockとは何か
composer.json
プロジェクトの依存関係を定義するためのファイル
このファイルには、プロジェクトのメタ情報や依存するライブラリ、バージョン制約などが含まれている。
composer.lock
実際にインストールされたパッケージとそのバージョンを記録するファイル
このファイルはチームで開発を行う際や、本番環境にデプロイする際に、依存関係のバージョンを一致させるために重要

### composerでインストールしたパッケージ（ライブラリ）はどのディレクトリに格納されるのか
インストールしたすべてのパッケージは
vendorディレクトリに格納される。

vendor/composer/ ディレクトリ: Composer自身の設定ファイルや、依存関係の解決に関するファイルが格納される。ぎtre
